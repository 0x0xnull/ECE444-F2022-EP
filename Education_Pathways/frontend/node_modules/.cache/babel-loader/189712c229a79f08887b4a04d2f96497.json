{"ast":null,"code":"import _classCallCheck from\"C:/Users/91342/OneDrive/\\u6587\\u6863/code/Assignment_1_starter_template/Education_Pathways/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/91342/OneDrive/\\u6587\\u6863/code/Assignment_1_starter_template/Education_Pathways/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/Users/91342/OneDrive/\\u6587\\u6863/code/Assignment_1_starter_template/Education_Pathways/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/Users/91342/OneDrive/\\u6587\\u6863/code/Assignment_1_starter_template/Education_Pathways/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/91342/OneDrive/\\u6587\\u6863/code/Assignment_1_starter_template/Education_Pathways/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import axios from'axios';import Result from'./Results';import'./css/Result.css';import Label from'./Label';import\"./css/styles.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SearchResultDisplay=/*#__PURE__*/function(_Component){_inherits(SearchResultDisplay,_Component);var _super=_createSuper(SearchResultDisplay);function SearchResultDisplay(){var _this;_classCallCheck(this,SearchResultDisplay);_this=_super.call(this);_this.getData=function(input){axios.get(\"https://astarchooser.herokuapp.com/searchc?input=\".concat(input)).then(function(res){console.log(\"it is \".concat(res.status));if(res.status===200){_this.setState({results:[]});if(res.data.length>0){var len=res.data.length;var result_temp=[];result_temp.push(/*#__PURE__*/_jsx(Label,{}));for(var i=0;i<len;i++){result_temp.push(/*#__PURE__*/_jsx(Result,{course_code:res.data[i].code,course_name:res.data[i].name}));}_this.setState({results:result_temp});}else if(res.data.length===0){alert(\"Course not found\");}else{var _result_temp=[];_result_temp.push(/*#__PURE__*/_jsx(Label,{}));_result_temp.push(/*#__PURE__*/_jsx(Result,{course_code:res.data.course.code,course_name:res.data.course.name}));_this.setState({results:_result_temp});}}else if(res.status===400){alert(\"System Error. Please refresh\");}});};_this.state={input:\"\",results:[]};_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));return _this;}_createClass(SearchResultDisplay,[{key:\"handleChange\",value:function handleChange(event){this.setState({input:event.target.value});}},{key:\"handleSubmit\",value:function handleSubmit(event){event.preventDefault();this.getData(this.state.input);}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"SearchQuery\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:\"10%\"},children:[/*#__PURE__*/_jsx(\"h1\",{children:\" Education Pathways Search\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.handleSubmit,className:\"search\",children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"Search for course code, course name, keyword ...\",className:\"text-input\",type:\"text\",value:this.state.input,onChange:this.handleChange}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Submit\",className:\"submit-button\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"search-result-display\",children:this.state.results})]});}}]);return SearchResultDisplay;}(Component);export default SearchResultDisplay;","map":{"version":3,"sources":["C:/Users/91342/OneDrive/文档/code/Assignment_1_starter_template/Education_Pathways/frontend/src/components/ResultDisplay.jsx"],"names":["React","Component","axios","Result","Label","SearchResultDisplay","getData","input","get","then","res","console","log","status","setState","results","data","length","len","result_temp","push","i","code","name","alert","course","state","handleChange","bind","handleSubmit","event","target","value","preventDefault","marginTop"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from 'axios'\r\nimport Result from './Results'\r\nimport './css/Result.css'\r\nimport Label from './Label'\r\nimport \"./css/styles.css\";\r\n\r\n\r\nclass SearchResultDisplay extends Component{\r\n\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      input: \"\",\r\n      results: []\r\n    };\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  handleChange(event) {\r\n    this.setState({input: event.target.value});\r\n  }\r\n\r\n  handleSubmit(event) {\r\n    event.preventDefault();\r\n    this.getData(this.state.input)\r\n  }\r\n\r\n  getData = (input) => {\r\n    axios.get(`https://astarchooser.herokuapp.com/searchc?input=${input}`)\r\n      .then(res => {\r\n        console.log(`it is ${res.status}`)\r\n        if (res.status === 200) {\r\n          this.setState({results: []})\r\n          \r\n          if (res.data.length > 0) {\r\n            let len = res.data.length\r\n            let result_temp = []\r\n            result_temp.push(<Label></Label>)\r\n            for (let i = 0; i < len; i++) {\r\n                result_temp.push(<Result course_code={res.data[i].code} course_name={res.data[i].name}></Result>)\r\n            }\r\n            this.setState({results: result_temp})\r\n          } else if (res.data.length === 0) {\r\n            alert(\"Course not found\")\r\n          }else {\r\n            let result_temp = []\r\n            result_temp.push(<Label></Label>)\r\n            result_temp.push(<Result course_code={res.data.course.code} course_name={res.data.course.name}></Result>)\r\n            this.setState({results: result_temp})\r\n          }\r\n\r\n        } else if (res.status === 400) {\r\n          alert(\"System Error. Please refresh\")\r\n        }\r\n    })\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <div className=\"SearchQuery\">\r\n        <div style={{ marginTop: \"10%\" }}>\r\n            <h1> Education Pathways Search</h1>\r\n            <form onSubmit={this.handleSubmit} className={\"search\"}>\r\n                <input placeholder={\"Search for course code, course name, keyword ...\"} className={\"text-input\"} type=\"text\" value={this.state.input} onChange={this.handleChange} />\r\n                <input type=\"submit\" value=\"Submit\" className={\"submit-button\"}/>\r\n            </form>\r\n        </div>\r\n\r\n        <div className={\"search-result-display\"} >\r\n            {this.state.results}\r\n        </div>\r\n        \r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SearchResultDisplay;\r\n"]},"metadata":{},"sourceType":"module"}