{"ast":null,"code":"var _jsxFileName = \"/Users/arjunsridharkumar/Desktop/Desktop folder/Fall 22/ECE444 TA/project1-education-pathways-group-8-the-red-flags-master/AStar/frontend/src/components/CourseDescription.js\";\nimport React, { Component } from 'react';\nimport './css/course-description.css';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport Container from 'react-bootstrap/Container';\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\nimport requisite_label from './img/requisite-label.png';\nimport empty_star from './img/star.png';\nimport starred from './img/starred.png';\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet star = empty_star;\n\nclass CourseDescriptionPage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.check_star = () => {\n      if (this.state.username) {\n        if (this.state.starred === false) {\n          //if user is logged in, add to course\n          //add course to wishlist\n          console.log(\"username/code\", this.state);\n          axios.post(`https://astarchooser.herokuapp.com/user/wishlist/addCourse?username=${this.state.username}&code=${this.state.course_code}`, {\n            'code': this.state.course_code,\n            'username': this.state.username\n          }).then(resp => {\n            if (resp.status === 200) {\n              console.log(\"successfully added course and starred\");\n              star = starred;\n              this.setState({\n                starred: true\n              });\n            } else {\n              console.log(\"error occured while modifying wishlist: \", resp.status);\n            }\n          });\n        } else {\n          //remove course from wishlist\n          axios.post(`https://astarchooser.herokuapp.com/user/wishlist/removeCourse?username=${this.state.username}&code=${this.state.course_code}`, {\n            'code': this.state.course_code,\n            'username': this.state.username\n          }).then(resp => {\n            if (resp.status === 200) {\n              console.log(\"successfully REMOVED course and unstarred\");\n              star = empty_star;\n              this.setState({\n                starred: false\n              });\n            } else {\n              console.log(\"error occured while modifying wishlist: \", resp.status);\n            }\n          });\n        }\n      } else {\n        //else, notify\n        alert(\"You must login to save a course.\");\n      }\n    };\n\n    this.openLink = () => {\n      const newWindow = window.open(this.state.syllabus, '_blacnk', 'noopener,noreferrer');\n\n      if (newWindow) {\n        newWindow.opener = null;\n      }\n    };\n\n    this.state = {\n      course_code: \"\",\n      course_name: \"\",\n      division: \"Faculty of Applied Science and Engineering\",\n      department: \"Department of Edward S. Rogers Sr. Dept. of Electrical & Computer Engineering\",\n      graph: \"\",\n      course_description: \"\",\n      syllabus: \"\",\n      prerequisites: \"\",\n      corequisites: \"\",\n      exclusions: \"\",\n      starred: false,\n      graphics: [],\n      username: localStorage.getItem('username')\n    };\n  }\n\n  componentDidMount() {\n    console.log(\"pass in course code: \", this.props.match.params.code);\n    axios.get(`https://astarchooser.herokuapp.com/course/details?code=${this.props.match.params.code}`, {\n      code: this.props.course_code\n    }).then(res => {\n      console.log(res.data);\n      this.setState({\n        course_code: res.data.course.code\n      });\n      this.setState({\n        course_name: res.data.course.name\n      });\n      this.setState({\n        course_description: res.data.course.description\n      });\n      this.setState({\n        graph: res.data.course.graph\n      });\n      let prereq_len = res.data.course.prereq.length;\n\n      if (prereq_len > 1) {\n        let prereq_str = \"\";\n\n        for (let i = 0; i < prereq_len; i++) {\n          prereq_str += res.data.course.prereq[i];\n\n          if (i !== prereq_len - 1) {\n            prereq_str += \", \";\n          }\n        }\n\n        this.setState({\n          prerequisites: prereq_str\n        });\n      } else {\n        this.setState({\n          prerequisites: res.data.course.prereq\n        });\n      }\n\n      let coreq_len = res.data.course.coreq.length;\n\n      if (coreq_len > 1) {\n        let coreq_str = \"\";\n\n        for (let i = 0; i < coreq_str; i++) {\n          coreq_str += res.data.course.coreq[i];\n\n          if (i !== coreq_len - 1) {\n            coreq_str += \", \";\n          }\n        }\n\n        this.setState({\n          corequisites: coreq_str\n        });\n      } else {\n        this.setState({\n          corequisites: res.data.course.coreq\n        });\n      }\n\n      let exclusion_len = res.data.course.exclusion.length;\n\n      if (exclusion_len > 1) {\n        let exclusion_str = \"\";\n\n        for (let i = 0; i < exclusion_str; i++) {\n          exclusion_str += res.data.course.exclusion[i];\n\n          if (i !== exclusion_len - 1) {\n            exclusion_str += \", \";\n          }\n        }\n\n        this.setState({\n          exclusions: exclusion_str\n        });\n      } else {\n        this.setState({\n          exclusions: res.data.course.exclusion\n        });\n      }\n\n      let syllabus_link = \"http://courses.skule.ca/course/\" + this.props.code;\n      this.setState({\n        syllabus: syllabus_link\n      });\n      let temp_graph = []; //temp_graph.push(<ShowGraph graph_src={this.state.graph}></ShowGraph>)\n\n      this.setState({\n        graphics: temp_graph\n      });\n    });\n    axios.get(`https://astarchooser.herokuapp.com/user/wishlist?username=${this.state.username}`).then(res => {\n      console.log(`res is ${res}`);\n      let len = res.data.wishlist.course.length;\n\n      for (let i = 0; i < len; i++) {\n        console.log(\"checking: \", res.data.wishlist.course[i].code);\n        console.log(\"course: \", this.props.code);\n\n        if (res.data.wishlist.course[i].code === this.props.code) {\n          star = starred;\n          this.setState({\n            starred: true\n          });\n        }\n      }\n    });\n    console.log(\"new state: \", this.state);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page-content\",\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        className: \"course-template\",\n        children: [/*#__PURE__*/_jsxDEV(Row, {\n          float: \"center\",\n          className: \"course-title\",\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            xs: 8,\n            children: /*#__PURE__*/_jsxDEV(\"h1\", {\n              children: [this.state.course_code, \" : \", this.state.course_name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            className: \"col-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Division\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: this.state.division\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            className: \"col-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Department\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: this.state.department\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            className: \"col-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Past Tests and Syllabi\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"syllabus-link\",\n              onClick: this.openLink,\n              children: \"View\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"col-item course-description\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Course Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: this.state.course_description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"col-item course-requisite\",\n          children: [/*#__PURE__*/_jsxDEV(Row, {\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Course Requisites\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              className: \"requisites-display\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"Pre-Requisites\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: this.state.prerequisites\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              className: \"requisites-display\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"Co-Requisites\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: this.state.corequisites\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              className: \"requisites-display\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"Exclusion\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: this.state.exclusions\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"req-graph\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                style: {\n                  width: \"70%\",\n                  marginBottom: \"3%\"\n                },\n                alt: \"\",\n                src: requisite_label\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                src: `data:image/jpeg;base64,${this.state.graph}`,\n                alt: \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default CourseDescriptionPage;","map":{"version":3,"sources":["/Users/arjunsridharkumar/Desktop/Desktop folder/Fall 22/ECE444 TA/project1-education-pathways-group-8-the-red-flags-master/AStar/frontend/src/components/CourseDescription.js"],"names":["React","Component","Container","Col","Row","requisite_label","empty_star","starred","axios","star","CourseDescriptionPage","constructor","props","check_star","state","username","console","log","post","course_code","then","resp","status","setState","alert","openLink","newWindow","window","open","syllabus","opener","course_name","division","department","graph","course_description","prerequisites","corequisites","exclusions","graphics","localStorage","getItem","componentDidMount","match","params","code","get","res","data","course","name","description","prereq_len","prereq","length","prereq_str","i","coreq_len","coreq","coreq_str","exclusion_len","exclusion","exclusion_str","syllabus_link","temp_graph","len","wishlist","render","width","marginBottom"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './css/course-description.css'\nimport 'bootstrap/dist/css/bootstrap.css';\nimport Container from 'react-bootstrap/Container';\nimport Col from 'react-bootstrap/Col'\nimport Row from 'react-bootstrap/Row'\nimport requisite_label from './img/requisite-label.png'\nimport empty_star from './img/star.png'\nimport starred from './img/starred.png'\nimport axios from \"axios\"\n\nlet star = empty_star;\n\nclass CourseDescriptionPage extends Component {\n\n  constructor(props){\n    super(props)\n\n    this.state = {\n      course_code: \"\",\n      course_name: \"\",\n      division: \"Faculty of Applied Science and Engineering\",\n      department: \"Department of Edward S. Rogers Sr. Dept. of Electrical & Computer Engineering\",\n      graph : \"\",\n      course_description: \"\",\n      syllabus: \"\",\n      prerequisites: \"\",\n      corequisites: \"\",\n      exclusions: \"\",\n      starred: false,\n      graphics: [],\n      username: localStorage.getItem('username')\n    }\n  }\n\n\n\n  componentDidMount() {\n    console.log(\"pass in course code: \", this.props.match.params.code)\n\n    axios.get(`https://astarchooser.herokuapp.com/course/details?code=${this.props.match.params.code}`, {\n      code: this.props.course_code\n    })\n      .then(res => {\n        console.log(res.data)\n        this.setState({course_code: res.data.course.code})\n        this.setState({course_name: res.data.course.name})\n        this.setState({course_description : res.data.course.description})\n        this.setState({graph: res.data.course.graph})\n        let prereq_len = res.data.course.prereq.length\n        if (prereq_len > 1) {\n          let prereq_str = \"\"\n          for (let i = 0; i < prereq_len; i++) {\n            prereq_str += res.data.course.prereq[i]\n            if (i !== prereq_len - 1) {\n              prereq_str += \", \"\n            }\n          }\n          this.setState({prerequisites : prereq_str})\n        } else {\n          this.setState({prerequisites : res.data.course.prereq})\n        }\n        let coreq_len = res.data.course.coreq.length\n        if (coreq_len > 1) {\n          let coreq_str = \"\"\n          for (let i = 0; i < coreq_str; i++) {\n            coreq_str += res.data.course.coreq[i]\n            if (i !== coreq_len - 1) {\n              coreq_str += \", \"\n            }\n          }\n          this.setState({corequisites : coreq_str})\n        } else {\n          this.setState({corequisites : res.data.course.coreq})\n        }\n        let exclusion_len = res.data.course.exclusion.length\n        if (exclusion_len > 1) {\n          let exclusion_str = \"\"\n          for (let i = 0; i < exclusion_str; i++) {\n            exclusion_str += res.data.course.exclusion[i]\n            if (i !== exclusion_len - 1) {\n              exclusion_str += \", \"\n            }\n          }\n          this.setState({exclusions : exclusion_str})\n        } else {\n          this.setState({exclusions : res.data.course.exclusion})\n        }\n        let syllabus_link = \"http://courses.skule.ca/course/\" + this.props.code\n        this.setState({syllabus : syllabus_link})\n\n        let temp_graph = []\n        //temp_graph.push(<ShowGraph graph_src={this.state.graph}></ShowGraph>)\n        this.setState({graphics: temp_graph})\n\n\n    })\n\n    axios.get(`https://astarchooser.herokuapp.com/user/wishlist?username=${this.state.username}`)\n    .then(res => {\n      console.log(`res is ${res}`)\n      let len = res.data.wishlist.course.length\n      for (let i = 0; i < len; i++) {\n        console.log(\"checking: \", res.data.wishlist.course[i].code)\n        console.log(\"course: \", this.props.code)\n        if (res.data.wishlist.course[i].code === this.props.code) {\n          star = starred\n          this.setState({starred: true})\n\n        }\n      }\n    })\n\n\n\n    console.log(\"new state: \", this.state)\n  }\n\n  check_star = () => {\n\n    if(this.state.username){\n      if (this.state.starred === false) { //if user is logged in, add to course\n\n        //add course to wishlist\n        console.log(\"username/code\", this.state)\n        axios.post(`https://astarchooser.herokuapp.com/user/wishlist/addCourse?username=${this.state.username}&code=${this.state.course_code}`, {\n          'code': this.state.course_code, 'username':this.state.username\n        })\n        .then(resp =>{\n          if(resp.status === 200){\n            console.log(\"successfully added course and starred\")\n            star = starred;\n            this.setState({starred: true});\n\n          }else{\n            console.log(\"error occured while modifying wishlist: \", resp.status)\n          }\n        })\n      } else {\n\n        //remove course from wishlist\n        axios.post(`https://astarchooser.herokuapp.com/user/wishlist/removeCourse?username=${this.state.username}&code=${this.state.course_code}`, {\n          'code': this.state.course_code, 'username':this.state.username\n        })\n        .then(resp =>{\n          if(resp.status === 200){\n            console.log(\"successfully REMOVED course and unstarred\")\n            star = empty_star;\n            this.setState({starred: false});\n          }else{\n            console.log(\"error occured while modifying wishlist: \", resp.status)\n          }\n        })\n      }\n\n    }else{ //else, notify\n      alert(\"You must login to save a course.\")\n    }\n  }\n\n  openLink = () => {\n    const newWindow = window.open(this.state.syllabus, '_blacnk', 'noopener,noreferrer');\n    if (newWindow) {\n      newWindow.opener = null;\n    }\n  }\n\n\trender() {\n\t\treturn(\n\n      <div className=\"page-content\">\n        <Container className=\"course-template\">\n          <Row float=\"center\" className=\"course-title\">\n            <Col xs={8}>\n              <h1>{this.state.course_code} : {this.state.course_name}</h1>\n            </Col>\n            {/* <Col xs={4}>\n              <img src={star} onClick={this.check_star} alt=\"\" />\n            </Col> */}\n          </Row>\n          <Row>\n            <Col className=\"col-item\">\n              <h3>Division</h3>\n              <p>{this.state.division}</p>\n            </Col>\n            <Col className=\"col-item\">\n              <h3>Department</h3>\n              <p>{this.state.department}</p>\n            </Col>\n            <Col className=\"col-item\">\n              <h3>Past Tests and Syllabi</h3>\n              <button className={\"syllabus-link\"} onClick={this.openLink}>View</button>\n            </Col>\n          </Row>\n          <Row className=\"col-item course-description\">\n            <h3>Course Description</h3>\n            <p>{this.state.course_description}</p>\n          </Row>\n          <Row className=\"col-item course-requisite\">\n            <Row>\n              <h3>Course Requisites</h3>\n            </Row>\n            <Row>\n              <Col className=\"requisites-display\">\n                <h4>Pre-Requisites</h4>\n                <p>{this.state.prerequisites}</p>\n              </Col>\n              <Col className=\"requisites-display\">\n                <h4>Co-Requisites</h4>\n                <p>{this.state.corequisites}</p>\n              </Col>\n              <Col className=\"requisites-display\">\n                <h4>Exclusion</h4>\n                <p>{this.state.exclusions}</p>\n              </Col>\n            </Row>\n            <Row>\n              <div className={\"req-graph\"}>\n                <img style={{width: \"70%\", marginBottom: \"3%\"}} alt=\"\" src={requisite_label}></img>\n                <img src={`data:image/jpeg;base64,${this.state.graph}`} alt=\"\" ></img>\n              </div>\n            </Row>\n          </Row>\n        </Container>\n      </div>\n\n\t\t)\n\t}\n}\n\nexport default CourseDescriptionPage\n"]},"metadata":{},"sourceType":"module"}